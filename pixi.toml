[workspace]
name = "microbiome_ml"
version = "0.1.0"
description = "Python module for standardizing ML applications in microbiome research"
authors = ["Your Research Group <email@institution.edu>"]
channels = ["conda-forge", "pytorch", "nvidia", "bioconda"]
platforms = ["linux-64"]

[dependencies]
python = ">=3.9,<3.12"
# Core dependencies - actually used in wrangle module
numpy = ">=1.21.0"
polars = ">=0.20.0"
requests = ">=2.25.0"
tqdm = ">=4.64.0"
pyyaml = ">=0.2.5"

[feature.dev.dependencies]
pytest = ">=7.0.0"
pytest-cov = ">=4.0.0"
pytest-mock = ">=3.10.0"
black = ">=23.0.0"
isort = ">=5.12.0"
flake8 = ">=6.0.0"
mypy = ">=1.0.0"
pre-commit = ">=3.0.0"
hypothesis = ">=6.0.0"

[feature.docs.dependencies]
mkdocs = ">=1.5.0"
mkdocs-material = ">=9.0.0"
mkdocstrings = { version = ">=0.22.0" }

# [feature.ml.dependencies]
# torch = ">=2.0.0"
# transformers = ">=4.20.0"
# datasets = ">=2.0.0"

# [feature.geo.dependencies]
# # Optional geospatial dependencies for annotation modules
# netcdf4 = ">=1.6.0"
# rasterio = ">=1.3.0"
# cdsapi = ">=0.6.0"
# geopandas = ">=0.13.0"
# pandas = ">=1.5.0"

# [feature.bio.dependencies]
# # Currently unused - placeholder for future bio dependencies
# # biopython = ">=1.80"

[tasks]
lint = "flake8 src/ test/tests/"
format = "black src/ test/tests/ && isort src/ test/tests/"
type-check = "mypy src/"
docs-serve = "mkdocs serve"
docs-build = "mkdocs build"
pre-commit-install = "pre-commit install"
clean = "find . -type d -name __pycache__ -delete && find . -name '*.pyc' -delete"
install-dev = "pip install -e ."
test = { depends-on = ["install-dev"], cmd = "pytest test/tests/" }


[environments]
default = ["dev"]
docs = ["dev", "docs"]
full = ["dev", "docs"]